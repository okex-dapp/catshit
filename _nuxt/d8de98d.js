/*!For license information please see LICENSES*/(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{1796:function(t,e,r){"use strict";r(250);var n=r(147),o=r(148),c=r(102),l=r(89),f=r(90),h=(r(52),r(174),r(7),r(16),r(2021)),d=r.n(h);function m(t){var e=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(t){return!1}}();return function(){var r,n=Object(c.a)(t);if(e){var l=Object(c.a)(this).constructor;r=Reflect.construct(n,arguments,l)}else r=n.apply(this,arguments);return Object(o.a)(this,r)}}var v=function(t){Object(n.a)(r,t);var e=m(r);function r(){var t;Object(l.a)(this,r);for(var n=arguments.length,o=new Array(n),c=0;c<n;c++)o[c]=arguments[c];return(t=e.call.apply(e,[this].concat(o))).fee=.01,t.min=.005,t.network="Ethereum Mainnet",t.contract="eth.token",t.symbol="WAXUSDT",t.precision=6,t.desc="1:1 USDT(on Ethereum) backed Token on WAX mainnet.",t}return Object(f.a)(r,[{key:"isEthAddress",value:function(address){return!0}},{key:"format",value:function(t){return parseFloat(t).toFixed(this.precision)+" "+this.symbol}},{key:"getFee",value:function(t){return t*this.fee}},{key:"isValid",value:function(address){if(!d.a.isAddress(address))throw new Error("This is not ETH address");return Promise.resolve()}},{key:"withdraw",value:function(t,address){console.log(t,address);var e=this.getFee(t),r=this.format(t-e),n=[{account:"eth.token",name:"withdraw",authorization:[this.store.state.user.authorization],data:{from:this.store.state.user.name,to_eth_address:address,quantity:r,max_fee:this.format(e)}}];return this.store.dispatch("chain/sendTransaction",n)}}]),r}(function(){function t(e){Object(l.a)(this,t),this.network="",this.store=null,this.fee=0,this.min=1e-4,this.contract="",this.symbol="",this.precision="",this.desc="",this.store=e}return Object(f.a)(t,[{key:"withdraw",value:function(address){throw new Error("Withdraw is not implemented")}},{key:"validate",value:function(){throw new Error("Validate is not implemented")}}]),t}()),y={"WAXUSDT@eth.token":v};e.a={wax:y}},1813:function(t,e,r){var content=r(2062);content.__esModule&&(content=content.default),"string"==typeof content&&(content=[[t.i,content,""]]),content.locals&&(t.exports=content.locals);(0,r(47).default)("4eb57304",content,!0,{sourceMap:!1})},1862:function(t,e,r){"use strict";r(15),r(27),r(28),r(23),r(24),r(33),r(34),r(35),r(36),r(37),r(17),r(38),r(25),r(44),r(56),r(57);var n=r(6),o=r(8),c=r(2),l=(r(52),r(16),r(304),r(29),r(7),r(174),r(397),r(39),r(82),r(71)),f=r(51),h=r(1796),d=r(68),m=r.n(d);function v(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(object);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,r)}return e}function y(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?v(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):v(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}function w(){w=function(){return t};var t={},e=Object.prototype,r=e.hasOwnProperty,o="function"==typeof Symbol?Symbol:{},c=o.iterator||"@@iterator",l=o.asyncIterator||"@@asyncIterator",f=o.toStringTag||"@@toStringTag";function h(t,e,r){return Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}),t[e]}try{h({},"")}catch(t){h=function(t,e,r){return t[e]=r}}function d(t,e,r,n){var o=e&&e.prototype instanceof y?e:y,c=Object.create(o.prototype),l=new $(n||[]);return c._invoke=function(t,e,r){var n="suspendedStart";return function(o,c){if("executing"===n)throw new Error("Generator is already running");if("completed"===n){if("throw"===o)throw c;return S()}for(r.method=o,r.arg=c;;){var l=r.delegate;if(l){var f=F(l,r);if(f){if(f===v)continue;return f}}if("next"===r.method)r.sent=r._sent=r.arg;else if("throw"===r.method){if("suspendedStart"===n)throw n="completed",r.arg;r.dispatchException(r.arg)}else"return"===r.method&&r.abrupt("return",r.arg);n="executing";var h=m(t,e,r);if("normal"===h.type){if(n=r.done?"completed":"suspendedYield",h.arg===v)continue;return{value:h.arg,done:r.done}}"throw"===h.type&&(n="completed",r.method="throw",r.arg=h.arg)}}}(t,r,l),c}function m(t,e,r){try{return{type:"normal",arg:t.call(e,r)}}catch(t){return{type:"throw",arg:t}}}t.wrap=d;var v={};function y(){}function k(){}function x(){}var _={};h(_,c,(function(){return this}));var O=Object.getPrototypeOf,j=O&&O(O(A([])));j&&j!==e&&r.call(j,c)&&(_=j);var E=x.prototype=y.prototype=Object.create(_);function L(t){["next","throw","return"].forEach((function(e){h(t,e,(function(t){return this._invoke(e,t)}))}))}function T(t,e){function o(c,l,f,h){var d=m(t[c],t,l);if("throw"!==d.type){var v=d.arg,y=v.value;return y&&"object"==Object(n.a)(y)&&r.call(y,"__await")?e.resolve(y.__await).then((function(t){o("next",t,f,h)}),(function(t){o("throw",t,f,h)})):e.resolve(y).then((function(t){v.value=t,f(v)}),(function(t){return o("throw",t,f,h)}))}h(d.arg)}var c;this._invoke=function(t,r){function n(){return new e((function(e,n){o(t,r,e,n)}))}return c=c?c.then(n,n):n()}}function F(t,e){var r=t.iterator[e.method];if(void 0===r){if(e.delegate=null,"throw"===e.method){if(t.iterator.return&&(e.method="return",e.arg=void 0,F(t,e),"throw"===e.method))return v;e.method="throw",e.arg=new TypeError("The iterator does not provide a 'throw' method")}return v}var n=m(r,t.iterator,e.arg);if("throw"===n.type)return e.method="throw",e.arg=n.arg,e.delegate=null,v;var o=n.arg;return o?o.done?(e[t.resultName]=o.value,e.next=t.nextLoc,"return"!==e.method&&(e.method="next",e.arg=void 0),e.delegate=null,v):o:(e.method="throw",e.arg=new TypeError("iterator result is not an object"),e.delegate=null,v)}function P(t){var e={tryLoc:t[0]};1 in t&&(e.catchLoc=t[1]),2 in t&&(e.finallyLoc=t[2],e.afterLoc=t[3]),this.tryEntries.push(e)}function C(t){var e=t.completion||{};e.type="normal",delete e.arg,t.completion=e}function $(t){this.tryEntries=[{tryLoc:"root"}],t.forEach(P,this),this.reset(!0)}function A(t){if(t){var e=t[c];if(e)return e.call(t);if("function"==typeof t.next)return t;if(!isNaN(t.length)){var i=-1,n=function e(){for(;++i<t.length;)if(r.call(t,i))return e.value=t[i],e.done=!1,e;return e.value=void 0,e.done=!0,e};return n.next=n}}return{next:S}}function S(){return{value:void 0,done:!0}}return k.prototype=x,h(E,"constructor",x),h(x,"constructor",k),k.displayName=h(x,f,"GeneratorFunction"),t.isGeneratorFunction=function(t){var e="function"==typeof t&&t.constructor;return!!e&&(e===k||"GeneratorFunction"===(e.displayName||e.name))},t.mark=function(t){return Object.setPrototypeOf?Object.setPrototypeOf(t,x):(t.__proto__=x,h(t,f,"GeneratorFunction")),t.prototype=Object.create(E),t},t.awrap=function(t){return{__await:t}},L(T.prototype),h(T.prototype,l,(function(){return this})),t.AsyncIterator=T,t.async=function(e,r,n,o,c){void 0===c&&(c=Promise);var l=new T(d(e,r,n,o),c);return t.isGeneratorFunction(r)?l:l.next().then((function(t){return t.done?t.value:l.next()}))},L(E),h(E,f,"Generator"),h(E,c,(function(){return this})),h(E,"toString",(function(){return"[object Generator]"})),t.keys=function(object){var t=[];for(var e in object)t.push(e);return t.reverse(),function e(){for(;t.length;){var r=t.pop();if(r in object)return e.value=r,e.done=!1,e}return e.done=!0,e}},t.values=A,$.prototype={constructor:$,reset:function(t){if(this.prev=0,this.next=0,this.sent=this._sent=void 0,this.done=!1,this.delegate=null,this.method="next",this.arg=void 0,this.tryEntries.forEach(C),!t)for(var e in this)"t"===e.charAt(0)&&r.call(this,e)&&!isNaN(+e.slice(1))&&(this[e]=void 0)},stop:function(){this.done=!0;var t=this.tryEntries[0].completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(t){if(this.done)throw t;var e=this;function n(r,n){return c.type="throw",c.arg=t,e.next=r,n&&(e.method="next",e.arg=void 0),!!n}for(var i=this.tryEntries.length-1;i>=0;--i){var o=this.tryEntries[i],c=o.completion;if("root"===o.tryLoc)return n("end");if(o.tryLoc<=this.prev){var l=r.call(o,"catchLoc"),f=r.call(o,"finallyLoc");if(l&&f){if(this.prev<o.catchLoc)return n(o.catchLoc,!0);if(this.prev<o.finallyLoc)return n(o.finallyLoc)}else if(l){if(this.prev<o.catchLoc)return n(o.catchLoc,!0)}else{if(!f)throw new Error("try statement without catch or finally");if(this.prev<o.finallyLoc)return n(o.finallyLoc)}}}},abrupt:function(t,e){for(var i=this.tryEntries.length-1;i>=0;--i){var n=this.tryEntries[i];if(n.tryLoc<=this.prev&&r.call(n,"finallyLoc")&&this.prev<n.finallyLoc){var o=n;break}}o&&("break"===t||"continue"===t)&&o.tryLoc<=e&&e<=o.finallyLoc&&(o=null);var c=o?o.completion:{};return c.type=t,c.arg=e,o?(this.method="next",this.next=o.finallyLoc,v):this.complete(c)},complete:function(t,e){if("throw"===t.type)throw t.arg;return"break"===t.type||"continue"===t.type?this.next=t.arg:"return"===t.type?(this.rval=this.arg=t.arg,this.method="return",this.next="end"):"normal"===t.type&&e&&(this.next=e),v},finish:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.finallyLoc===t)return this.complete(e.completion,e.afterLoc),C(e),v}},catch:function(t){for(var i=this.tryEntries.length-1;i>=0;--i){var e=this.tryEntries[i];if(e.tryLoc===t){var r=e.completion;if("throw"===r.type){var n=r.arg;C(e)}return n}}throw new Error("illegal catch attempt")},delegateYield:function(t,e,r){return this.delegate={iterator:A(t),resultName:e,nextLoc:r},"next"===this.method&&(this.arg=void 0),v}},t}var k={components:{TokenImage:r(395).a},props:{token:{type:Object,default:function(){return{precision:4,symbol:"EOS",contract:"eosio.token"}}}},data:function(){var t,e=this;return{visible:!1,form:{address:"",amount:0,fee:0},addressValid:!1,chain_select:null,chain:{},loading:!1,rules:{address:{trigger:"blur",validator:(t=Object(c.a)(w().mark((function t(r,n,o){return w().wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,e.loading=!0,t.next=4,e.peg.isValid(n);case 4:e.addressValid=!0,o(),t.next=12;break;case 8:t.prev=8,t.t0=t.catch(0),e.addressValid=!1,o(t.t0);case 12:return t.prev=12,e.loading=!1,t.finish(12);case 15:case"end":return t.stop()}}),t,null,[[0,8,12,15]])}))),function(e,r,n){return t.apply(this,arguments)})}}}},computed:y(y({},Object(f.e)(["user","network","ibcTokens","ibcAccepts"])),{},{peg:function(){return"".concat(this.token.symbol,"@").concat(this.token.contract)in h.a[this.network.name]?new(h.a[this.network.name]["".concat(this.token.symbol,"@").concat(this.token.contract)])(this.$store):{}},networks:function(){return Object.values(m.a.networks)},chains:function(){var t=this;return["eos","bos","telos","wax"].filter((function(e){return e!=t.network.name}))},tokenBalance:function(){var t=this;if(!this.user||!this.user.balances||!this.token.symbol)return"0.0000";var e=this.user.balances.filter((function(b){return b.currency===t.token.symbol&&b.contract===t.token.contract}))[0];return e?"".concat(e.amount," ").concat(e.currency):Number(0).toFixed(this.token.precision)+" ".concat(this.token.name)},ibcMinAccept:function(){var t=this,e=this.ibcAccepts.filter((function(e){return e.accept.split(" ")[1]==t.token.symbol}))[0];return console.log(e),e?parseFloat(e.min_once_transfer):0}}),watch:{"form.amount":function(){this.form.fee=this.peg.getFee(this.form.amount).toFixed(8)}},methods:{fullAmount:function(){this.form.amount=(parseFloat(this.tokenBalance.split(" ")[0])||0).toFixed(this.token.precision)},setChain:function(t){this.chain=m.a.networks[t],this.form.address="",this.$refs.form.resetFields()},amountChange:function(){this.form.amount=(parseFloat(this.form.amount)||0).toFixed(this.token.precision)},open:function(){var t=this;return Object(c.a)(w().mark((function e(){return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$store.dispatch("chain/asyncLogin");case 2:if(e.sent){e.next=4;break}return e.abrupt("return");case 4:t.visible=!0;case 5:case"end":return e.stop()}}),e)})))()},submit:function(){var t=this;return Object(c.a)(w().mark((function e(){var r;return w().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.peg.withdraw(t.form.amount,t.form.address);case 3:r=e.sent,t.visible=!1,t.$alert('<a href="'.concat(t.network.monitor,"/tx/").concat(r.transaction_id,'" target="_blank">Transaction id</a>'),"Transaction complete!",{dangerouslyUseHTMLString:!0,confirmButtonText:"OK",callback:function(e){t.$notify({title:"Withdraw in process",type:"success"})}}),e.next=13;break;case 8:e.prev=8,e.t0=e.catch(0),Object(l.c)(e.t0),t.$notify({title:"Withdraw error",message:e.t0.message,type:"error"}),console.log(e.t0);case 13:case"end":return e.stop()}}),e,null,[[0,8]])})))()}}},x=k,_=(r(2061),r(12)),component=Object(_.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"ibc-withdraw"},[r("el-button",{attrs:{type:"primary",icon:"el-icon-s-promotion",size:"mini"},on:{click:t.open}},[t._v("Withdraw")]),t.user?r("el-dialog",{staticClass:"text-left",attrs:{title:"Withdraw",visible:t.visible,width:"50%"},on:{"update:visible":function(e){t.visible=e}}},[r("el-form",{ref:"form",attrs:{model:t.form,"label-position":"left",rules:t.rules}},[r("el-form-item",{staticClass:"mb-2"},[r("b",[t._v(t._s(t.$t("Your token will be transferred to"))+" "+t._s(t.peg.network))]),r("div",[t._v(t._s(t.peg.desc))])]),r("el-form-item",{staticClass:"mt-1",attrs:{prop:"address"}},[r("template",{slot:"label"},[r("b",[t._v(t._s(t.chain.name)+" address:")])]),r("el-input",{staticClass:"w-100",attrs:{placeholder:t.$t("address.."),clearable:""},model:{value:t.form.address,callback:function(e){t.$set(t.form,"address",e)},expression:"form.address"}})],2),r("el-form-item",{attrs:{prop:"amount"}},[r("span",[r("b",[t._v(t._s(t.$t("Withdraw amount")))]),r("br"),r("span",[t._v(t._s(t.$t("Balance"))),r("el-button",{staticClass:"ml-1",attrs:{type:"text"},on:{click:t.fullAmount}},[t._v(" "+t._s(t.tokenBalance))])],1)]),r("small",{staticClass:"float-right"},[t._v("fee: "+t._s(this.form.fee)+" "+t._s(t.token.symbol))]),r("el-input",{staticClass:"w-100",attrs:{type:"number",clearable:"",min:t.ibcMinAccept},on:{change:t.amountChange},model:{value:t.form.amount,callback:function(e){t.$set(t.form,"amount",e)},expression:"form.amount"}},[r("span",{staticClass:"mr-1",attrs:{slot:"suffix"},slot:"suffix"},[t._v(t._s(this.token.symbol))])])],1),t.addressValid?r("el-form-item",{staticClass:"mt-1"},[r("span",{staticClass:"dialog-footer mb-4"},[r("el-button",{staticClass:"w-100",attrs:{type:"primary",disabled:!t.form.amount||!t.addressValid,loading:t.loading},on:{click:t.submit}},[t._v(t._s(t.$t("Transfer"))+" "+t._s(t.token.symbol)+" "+t._s(t.$t("to"))+" "+t._s(t.peg.network))])],1)]):t._e()],1)],1):t._e()],1)}),[],!1,null,null,null);e.a=component.exports},2027:function(t,e){},2033:function(t,e){},2042:function(t,e){},2044:function(t,e){},2061:function(t,e,r){"use strict";r(1813)},2062:function(t,e,r){var n=r(46)(!1);n.push([t.i,".upperinput{text-transform:uppercase}.upperinput:-moz-placeholder-shown{text-transform:none}.upperinput:placeholder-shown{text-transform:none}.ibc-withdraw .el-dialog__body{padding:0 20px 5px}",""]),t.exports=n}}]);